<?phprequire_once ("clases/persona.php");require_once ("clases/archivo.php");$queHago = isset($_POST['queHago']) ? $_POST['queHago'] : NULL;switch($queHago){	case "mostrarGrilla":			break;	case "subirFoto":			break;		case "borrarFoto":				$pathFoto = isset($_POST['foto']) ? $_POST['foto'] : NULL;		$res["Exito"] = Archivo::Borrar("../tmp/".$pathFoto);				echo json_encode($res);				break;			case "agregar":		$retorno["Exito"] = TRUE;		$retorno["Mensaje"] = "";		$obj = isset($_POST['persona']) ? json_decode(json_encode($_POST['persona'])) : NULL;				$p = new Persona($obj->edad,$obj->nombre,$obj->correo, $obj->archivo, $obj->clave);				if(!Persona::Guardar($p)){			$retorno["Exito"] = FALSE;			$retorno["Mensaje"] = "Lamentablemente ocurrio un error y no se pudo escribir en el archivo.";		}		else{			if(!Archivo::Mover("./tmp/".$obj->archivo, "./archivos/".$obj->archivo)){				$retorno["Exito"] = FALSE;				$retorno["Mensaje"] = "Lamentablemente ocurrio un error al mover el archivo del repositorio temporal al repositorio final.";			}			else{				$retorno["Mensaje"] = "El archivo fue escrito correctamente. persona agregado CORRECTAMENTE!!!";			}		}			echo json_encode($retorno);				break;		case "eliminar":		$retorno["Exito"] = TRUE;		$retorno["Mensaje"] = "";		$obj = isset($_POST['persona']) ? json_decode(json_encode($_POST['persona'])) : NULL;				if(!Persona::Eliminar($obj->nombre)){			$retorno["Exito"] = FALSE;			$retorno["Mensaje"] = "Lamentablemente ocurrio un error y no se pudo escribir en el archivo.";		}		else{			$retorno["Mensaje"] = "El archivo fue escrito correctamente. persona eliminado CORRECTAMENTE!!!";		}			echo json_encode($retorno);				break;			case "modificar":		$retorno["Exito"] = TRUE;		$retorno["Mensaje"] = "";		$obj = isset($_POST['persona']) ? json_decode(json_encode($_POST['persona'])) : NULL;				$p = new Persona($obj->edad,$obj->nombre,$obj->archivo);				if(!Persona::Modificar($p)){			$retorno["Exito"] = FALSE;			$retorno["Mensaje"] = "Lamentablemente ocurrio un error y no se pudo escribir en el archivo.";		}		else{			if(!Archivo::Mover("./tmp/".$obj->archivo, "./archivos/".$obj->archivo)){				$retorno["Exito"] = FALSE;				$retorno["Mensaje"] = "Lamentablemente ocurrio un error al mover el archivo del repositorio temporal al repositorio final.";			}			else{				$retorno["Mensaje"] = "El archivo fue escrito correctamente. persona modificado CORRECTAMENTE!!!";			}		}			echo json_encode($retorno);				break;	default:		echo ":(";}?>