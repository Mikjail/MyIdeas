<?phprequire_once ("clases/persona.php");require_once ("clases/archivo.php");$queHago = isset($_POST['queHago']) ? $_POST['queHago'] : NULL;switch($queHago){	case "mostrarGrilla":			$ArrayDepersonas = persona::TraerTodosLospersonas();		$grilla = '<table class="table">					<thead style="background-color:#E44C4C">						<tr>							<th>  EDAD </th>							<th>  NOMBRE     </th>							<th>  CORREO      </th>							<th>  FOTO     </th>							<th> ACCION </th>						</tr> 					</thead>';   			foreach ($ArrayDepersonas as $miPersona){			$personas = array();			$personas["nombre"] = $miPersona->GetNombre();			$personas["edad"] = $miPersona->GetEdad();			$personas["correo"] = $miPersona->GetCorreo();			///incluir el path			$personas["archTmp"] = $miPersona->GetPathFoto();			$personas = json_encode($personas);					$grilla .= "<tr>							<td>".$miPersona->GetEdad()."</td>							<td>".$miPersona->GetNombre()."</td>							<td>".$miPersona->GetCorreo()."</td>							<td><img src='archivos/".$miPersona->GetPathFoto()."' width='100px' height='100px'/></td>							<td><input class='btn btn-default' type='button' value='Eliminar' class='MiBotonUTN' id='btnEliminar' onclick='Eliminarpersona($personas)' />								<input class='btn btn-default' type='button' value='Modificar' class='MiBotonUTN' id='btnModificar' onclick='Modificarpersona($personas)' /></td>						</tr>";		}				$grilla .= '</table>';						echo $grilla;				break;			case "subirFoto":				$res = Archivo::Subir();				echo json_encode($res);		break;		case "borrarFoto":				$pathFoto = isset($_POST['foto']) ? $_POST['foto'] : NULL;		$res["Exito"] = Archivo::Borrar("./tmp/".$pathFoto);				echo json_encode($res);				break;			case "agregar":		$retorno["Exito"] = TRUE;		$retorno["Mensaje"] = "";		$obj = isset($_POST['persona']) ? json_decode(json_encode($_POST['persona'])) : NULL;				$p = new Persona($obj->edad,$obj->nombre,$obj->correo, $obj->archivo, $obj->clave);				if(!Persona::Guardar($p)){			$retorno["Exito"] = FALSE;			$retorno["Mensaje"] = "Lamentablemente ocurrio un error y no se pudo escribir en el archivo.";		}		else{			if(!Archivo::Mover("./tmp/".$obj->archivo, "./archivos/".$obj->archivo)){				$retorno["Exito"] = FALSE;				$retorno["Mensaje"] = "Lamentablemente ocurrio un error al mover el archivo del repositorio temporal al repositorio final.";			}			else{				$retorno["Mensaje"] = "El archivo fue escrito correctamente. persona agregado CORRECTAMENTE!!!";			}		}			echo json_encode($retorno);				break;		case "eliminar":		$retorno["Exito"] = TRUE;		$retorno["Mensaje"] = "";		$obj = isset($_POST['persona']) ? json_decode(json_encode($_POST['persona'])) : NULL;				if(!Persona::Eliminar($obj->nombre)){			$retorno["Exito"] = FALSE;			$retorno["Mensaje"] = "Lamentablemente ocurrio un error y no se pudo escribir en el archivo.";		}		else{			$retorno["Mensaje"] = "El archivo fue escrito correctamente. persona eliminado CORRECTAMENTE!!!";		}			echo json_encode($retorno);				break;			case "modificar":		$retorno["Exito"] = TRUE;		$retorno["Mensaje"] = "";		$obj = isset($_POST['persona']) ? json_decode(json_encode($_POST['persona'])) : NULL;				$p = new Persona($obj->edad,$obj->nombre,$obj->archivo);				if(!Persona::Modificar($p)){			$retorno["Exito"] = FALSE;			$retorno["Mensaje"] = "Lamentablemente ocurrio un error y no se pudo escribir en el archivo.";		}		else{			if(!Archivo::Mover("./tmp/".$obj->archivo, "./archivos/".$obj->archivo)){				$retorno["Exito"] = FALSE;				$retorno["Mensaje"] = "Lamentablemente ocurrio un error al mover el archivo del repositorio temporal al repositorio final.";			}			else{				$retorno["Mensaje"] = "El archivo fue escrito correctamente. persona modificado CORRECTAMENTE!!!";			}		}			echo json_encode($retorno);				break;	default:		echo ":(";}?>